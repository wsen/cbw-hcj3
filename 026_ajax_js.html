<!DOCTYPE html>
<html>
	<head>
		<title>026_ajax.js</title>
		<meta charset="utf-8" />
		<link href="./styles/global_style.css" type="text/css" rel="stylesheet" media="screen" />
		<script src="../script/jquery-3.3.1.min.js"></script>
		<style>
			
		
		</style>

		<script>
		
		</script>
	</head>
	
	<body>
        <h1>026 Ajax Rechner</h1>
        
        <!-- <form action="../script/ajax_rechner.php;" id="mathForm" name="mathForm"> -->            
        <form id="myForm" name="mathForm">
            <input type="text" name="z1" id="z1" />
            <select>
                <option value="add">plus</option>
                <option value="min">minus</option>
                <option value="mal">mal</option>
                <option value="geteilt">geteilt</option>
            </select>
            <input type="text" name="z2" id="z2" />
            <hr />
            <input readonly type="text" name="rArt" id="rArt"  />
            <button id="btnr" type="button" onclick="foo();"> Rechne </button>
        </form>
		
    <script>
        var z1 = "";
        var z2 = "";
        var rArt = "";

        window.onLoad = function() {
            document.getElementById('btn').addEventListener('click',foo,false);
        }

        function foo () {
            var z1 = document.getElementById("z1").value;
            var z2 = document.getElementById("z2").value;
            var rArt = document.getElementById("rArt").value;
                
            var sendStr = "?xx=" + z1 + "&yy=" + z2 + "&rArt" + rArt;
            console.log($("#myForm").serialize());
            // xmlhttp.open("GET","http://localhost/script/ajax_rechner.php" + sendStr, true);
            xmlhttp.open("GET","ajax_rechner.php" + sendStr,true);
            xmlhttp.onreadystatechange = function() {
                if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                   document.getElmentById("erg").value = xmlhttp.response;
                }
            };
            xmlhttp.send(sendStr);
        }          

    </script>
    
    </body>
</html>